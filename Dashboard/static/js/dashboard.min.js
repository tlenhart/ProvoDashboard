var test;var testdata=[];var graph=new Morris.Line({element:"testarea",data:[],xkey:"month",ykeys:["value"],labels:["Injuries"]});$.get("api/transportation/?format=json&limit=100",function(data){test=data.objects;for(var i=0;i<test.length;i++){if(test[i].category==="Transportation Injuries"||test[i].category==="Transportation_Injuries")testdata.push({month:generateDate(test[i].month,test[i].year),value:test[i].value})}console.log(testdata);graph.setData(testdata)});function generateDate(month,year){var rval=year.toString()+"-";switch(month){case"January":rval+="01";break;case"February":rval+="02";break;case"March":rval+="03";break;case"April":rval+="04";break;case"May":rval+="05";break;case"June":rval+="06";break;case"July":rval+="07";break;case"August":rval+="08";break;case"September":rval+="09";break;case"October":rval+="10";break;case"November":rval+="11";break;case"December":rval+="12";break;default:rval+="12"}return rval}